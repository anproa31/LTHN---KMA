	AREA RESET,DATA,READONLY
		DCD 0x20001000
		DCD MAIN
COSO2 DCB 1,1,0,1,1,0,1,1,0,1
SPT DCB 10
	AREA KETQUA,DATA,READWRITE
KQ DCB 0
	AREA MYCODE,CODE,READONLY
	ENTRY
MAIN
	LDR R0,=COSO2 	;DIA CHI DAU TIEN
	LDRB R1, SPT	;LAY SPT
	SUB R1, #1	;TRU DI 1
	MOV R2, #2; SO NHAN
	MOV R3, #0; TONG
LOOP
	MOV R4, #1; TICH
	LDRB R5, [R0], #1
	MOV R6, #1; I
NHAN
	MUL R5, R2; NHAN 1 CON 2
	ADD R6, #1 ; TANG R6 LEN 1 DON VI DE KIEM TRA
	CMP R6, R1	;KIEM TRA R6 VOI R1
	BLE NHAN	; R6 <= R1 THI NHAN TIEP
	ADD R3, R5	;R3 = R3+ R5
	SUB R1, #1	;  TRU R1 DE NHAY PHAN TU TIEP THEO
	CMP R1, #0	;KIEM TRA R1 VOI 0
	BGT LOOP	;NEU > THI TIEP TUC VI CON PHAN TU
	LDRB R5,[R0]; LAY PHAN TU CUOI CUNG ADD VAO
	ADD R3,R5	;  R3 LA KET QUA CUOI CUNG
	LDR R0, =KQ
	STR R3, [R0]
	END